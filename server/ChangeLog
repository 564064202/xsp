2003-09-19  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* ModMonoWorkerRequest.cs: don't cache the values from mod_mono_unix
	here...
	* ModMonoRequest.cs: ...and do it here.
	(GetClientBlock): mark the array as an Out parameter so that the
	modified array is passed back to the caller by remoting. This fixes
	POST when using mod_mono_unix.

2003-09-18  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XSPWorkerRequest.cs: don't crash when no Host header is received or
	if it has an invalid port.

2003-09-04  Lluis Sanchez Gual <lluis@ximian.com>

	* XSPWorkerRequest.cs: GetServerName(): reverted previous patch. There
	was a conflict with previous changes.
	Also modified implementation of GetLocalAddress(). It should get the
	value from the request header.

2003-09-04  Lluis Sanchez Gual <lluis@ximian.com>

	* XSPWorkerRequest.cs: GetServerName(): return the 
	  address of the local server.

2003-08-29  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* InitialWorkerRequest.cs: removed Console...
	* ModMonoRequest.cs: removed debug output.

	* ModMonoWorkerRequest.cs: added pathinfo support.
	* MonoWorkerRequest.cs: removed GetRawUrl from here.
	* XSPApplicationHost.cs: read the request data needed to get the Uri.


2003-08-29  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* InitialWorkerRequest.cs: added PathInfo support.
	
	* MonoWorkerRequest.cs: removed unused GetPathInfo. Don't cache the
	mapped path as it may change (ie., / -> /index.aspx).

	* XSPWorkerRequest.cs: support pathinfo. Works with MS. Always send
	the 'Connection: close' header. Added support for GetLocal*.

2003-08-27  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* InitialWorkerRequest.cs: fixed bugs 47937 and 47938.

	* XSPApplicationHost.cs: close the socket when finished.

	* XSPWorkerRequest.cs: small fixes in ReadEntityBody. Removed the 302
	redirection, handle it faking the path.

2003-08-26  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XSPApplicationHost.cs: infinite lifetime for XSPApplicationHost.

2003-08-25  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* InitialWorkerRequest.cs:
	* XSPWorkerRequest.cs: keep the read buffer, its length and the position
	around (used in POST). Somehow this bug didnn't show up under MS
	runtime.

	* XSPApplicationHost.cs: fixed warning and commented out WriteLines.

2003-08-25  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* IApplicationHost.cs: added 2 methods and 1 property to the
	interface.
	
	* InitialWorkerRequest.cs: used to read the request data before
	determining which application (if at all) is gonna process it.
	
	* Makefile: added new source file.

	* ModMonoRequest.cs: removed AliasMatches and added Decline.

	* ModMonoWorkerRequest.cs: new .ctor and Decline method that
	tells apache that we won't handle the request.
	
	* MonoWorkerRequest.cs: variable renamed.

	* XSPApplicationHost.cs: it can now handle multiple applications.
	* XSPWorkerRequest.cs: simplified as reading the request data
	is done in InitialWorkerRequest.

	* xsp.exe.config:
	* mod-mono-server.exe.config: added MonoApplications default
	setting.

	* server.cs: updated help and set the applications registered.
	

2003-08-21  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XSPApplicationHost.cs: handle possible exceptions in ProcessRequest.
	* XSPWorkerRequest.cs: don't do any check on the verb. If an error
	happens reading the request or the headers, send a 500 back and
	terminate.

2003-08-17  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* AssemblyInfo.cs: updated version number.

2003-08-07  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XSPWorkerRequest.cs: write the correct number of bytes when flushing
	the response.

2003-08-01  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* mod-mono-server.exe.config: New file.

	* Makefile:
	* ModMonoRequest.cs: new class that communicate with the new
	mod_mono_unix apache2 module.

	* ModMonoWorkerRequest.cs: HttpWorkerRequest for unix socket.

	* server.cs:
	* XSPApplicationHost.cs: updated for new apache2 module.

2003-07-24  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* AcceptEncodingConfig.cs:
	* AcceptEncodingModule.cs:
	* AcceptEncodingSectionHandler.cs:
	* GZipFilter.cs:
	* Makefile: these .cs files have been moved to Mono.Http.dll.

	* AssemblyInfo.cs: upgrade version.

2003-07-23  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* AcceptEncodingConfig.cs: class to hold the configuration for the
	filters enabled in web.config.

	* AcceptEncodingModule.cs: IHttpModule to plug the filters.

	* AcceptEncodingSectionHandler.cs: configuration file section handler
	for accept-encoding filters.

	* GZipFilter.cs: sample filter for gzip encoding.

	* Makefile: reference ICSharpCode.SharpZipLib, added new files and
	renamed executable to xsp.exe

	* server.exe.config: removed and renamed to...
	* xsp.exe.config: ...this one.
	* web.config: Removed file. It's been merged with ../test/

2003-07-09  Lluis Sanchez Gual <lluis@ximian.com>

	* Makefile: install target: copy web service files.

2003-06-20  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XSPWorkerRequest.cs: reverted latest Ben's patch as it causes an
	annoying bug when testing under windows.

2003-05-31  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XSPApplicationHost.cs:
	* XSPWorkerRequest.cs: support GetRemoteName, GetRemoteAddress and
	GetRemotePort. Fixes bug #43985.

2003-05-24  Ben Maurer <bmaurer@users.sourceforge.net>
	* XSPWorkerRequest.cs: Now /foo/ does not redirect to
	/foo/index.aspx, it just does a Response.Transfer () sort of
	thing.

2003-05-24  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XSPWorkerRequest.cs: when redirecting to an index page, also use the
	query string. Fixes bug #43598.

2003-05-05  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XSPWorkerRequest.cs:
	* server.cs:
	* server.exe.config:
	* web.config: the index files must be set in the proper AppDomain.
	Fixes #42309.

2003-05-04  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* web.config: removed server.exe keys.
	* Makefile: readded server.exe.config.

	* XSPWorkerRequest.cs:
	* server.cs:
	* server.exe.config: made the default index files list configurable.

2003-05-03  Pedro Martínez Juliá  <yoros@wanadoo.es>

	* server.cs: new options to set listen address.

2003-03-27  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* MonoWorkerRequest.cs: added a MapPathEvent that is fired before doing
	the normal MapPath stuff and can provide alternate mappings.

2003-02-17  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* Makefile: .dbg files are gone.

	* MonoWorkerRequest.cs: fixed MapPath to deal with virtual directories.
	* XSPWorkerRequest.cs: some cosmetic changes along with a fix when
	redirecting to location page.

	* server.cs: new options to set the root and virtual directory for the
	application.

	* XSPApplicationHost.cs: keep path and virtual path in instance fields.

2003-02-12  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XSPWorkerRequest.cs: when running under MS runtime, closing 'stream'
	is required too.

2003-02-06  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* MonoWorkerRequest.cs: fixed buglet in GetAppPath.

2003-02-04  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* Makefile: removed installation of server.exe.config.
	* XSPWorkerRequest.cs: buffered input from the socket.
	* server.exe.config: Removed file. Yahoo!
	* web.config: authentication mode set to Forms.

2003-02-02  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XSPWorkerRequest.cs: fixed ReadEntityBody. Thanks to Brian Ritchie.
	Don't use a StreamReader to read from the stream cause it may buffer
	some data. TODO -> now we're using ReadByte to read from the stream.
	We should use Read and do some buffering.

2003-01-15  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* Makefile:
	* server.exe.config:
	* web.config: make the database accessing samples take some
	parameters from the configuration file to choose the IDbConnection
	and documented it.

2003-01-14  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* MonoWorkerRequest.cs:
	* XSPWorkerRequest.cs: moved GetUnknownHeader(s) here.

2003-01-14  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* IApplicationHost.cs: 
	* MonoWorkerRequest.cs: the same files as in mod_mono. They must be kept
	in synch.

	* XSPApplicationHost.cs: same as previous MonoApplicationHost, but
	implements IApplicationHost.

	* XSPWorkerRequest.cs: it derives now from MonoWorkerRequest. Removed
	some overrides that are already present in the base class.

	* server.cs: use XSPApplicationHost.

	* Makefile: added/removed files to SOURCES. Install the .dbg file.

	* MonoApplicationHost.cs: Removed file.

	Now mod_mono and xsp share IApplicationHost and MonoWorkerRequest.

2003-01-12  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* MonoWorkerRequest.cs: fixed GetRawUrl.

2003-01-07  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* Makefile: also copy .ascx files.

2002-12-20  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* MonoWorkerRequest.cs: it know handles directory requests either
	redirecting to a / terminated url for directories or searching for one
	of the default index files for / terminated urls.

2002-12-19  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* MonoWorkerRequest.cs: changes to match recent MapPath fixing in
	System.Web.

2002-12-13  Juli Mallett  <jmallett@FreeBSD.org>

	* Makefile, server/Makefile, src/Makefile: Spell `make' as `$(MAKE)'.
	* README: Fix typo.

2002-12-12  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* AssemblyInfo.cs: New file.
	* Makefile: added AssemblyInfo.cs.
	* MonoWorkerRequest.cs: create Server header from assembly attributes.
	Thanks to alp and danmorg. Some path handling fixes and kludges.

2002-12-10  Alp Toker <alp@atoker.com>

	* server/MonoWorkerRequest.cs: send a 'Server' HTTP header

2002-12-05  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* server/Makefile: updated.
	* server/MonoWorkerRequest.cs: give credits to Opless (Simon White).
	* server/server.cs: get the port from a config file.
	* server/server.exe.config: configuration file.
	* server/web.config: added appSettings.

2002-10-31  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* MonoWorkerRequest.cs: use a default encoding without markers.
	* server.cs: Trace output goes to Console.Out.

2002-10-27  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* Makefile: added Tracing.cs

	* MonoApplicationHost.cs: use WebTrace.
	
	* MonoWorkerRequest.cs: use WebTrace. Also changed FlushResponse. Now
	it outputs correctly the status and the headers.
	
	* Tracing.cs: new file. Almost the same as System.Web.Util.WebTrace.
	It's used to get some output under MS runtime, which disables normal
	tracing for System.Web.

	* server.cs: removed Trace stuff.

2002-10-23  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* Makefile: added 'trace' target.
	* index.aspx: removed file added by mistake.

2002-10-22  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* ChangeLog:
	* Makefile:
	* MonoApplicationHost.cs:
	* MonoWorkerRequest.cs:
	* global.asax:
	* index.aspx:
	* server.cs:
	* web.config: new web server that uses ASP.NET hosting capabilities.
	It works with MS runtime and will be used to debug our classes from
	now on. xsp/src/* is now obsoleted and will stop working some time soon.
